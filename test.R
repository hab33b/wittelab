library(TwoSampleMR)

ao <- available_outcomes()
library(MRInstruments)
data(gwas_catalog)
gwas_catalog_subset <- subset(gwas_catalog, Phenotype %in% c('Body mass index')& SNP %in% c('rs1000940', 'rs10132280', 'rs1016287', 'rs10182181', 'rs10269783', 'rs10540', 'rs10733682', 'rs10742752', 'rs10760279', 'rs10761785', 'rs10773049', 'rs10920678', 'rs10929925', 'rs10938397', 'rs10968576', 'rs10975870', 'rs11030104', 'rs11057405', 'rs11065987', 'rs11126666', 'rs11150911', 'rs11165643', 'rs11170468', 'rs11191560', 'rs11247009', 'rs11583200', 'rs11603334', 'rs11607976', 'rs11611246', 'rs1167827', 'rs11688816', 'rs11709077', 'rs11727676', 'rs11847697', 'rs11866815', 'rs12150665', 'rs12286929', 'rs12401738', 'rs12429545', 'rs12446632', 'rs12454712', 'rs12566985', 'rs12680842', 'rs12885454', 'rs12940622', 'rs12961799', 'rs13021737', 'rs13078960', 'rs13107325', 'rs13174863', 'rs13191362', 'rs13201877', 'rs13424740', 'rs134871', 'rs1436351', 'rs1439620', 'rs1441264', 'rs1460676', 'rs1516725', 'rs1528435', 'rs1557765', 'rs1558902', 'rs16851483', 'rs16907751', 'rs16951275', 'rs17001654', 'rs17024393', 'rs17094222', 'rs17203016', 'rs17405819', 'rs17513613', 'rs17522122', 'rs17630235', 'rs17724992', 'rs1808579', 'rs1816537', 'rs1830074', 'rs1884897', 'rs1928295', 'rs2033529', 'rs2033732', 'rs205262', 'rs2075650', 'rs2080454', 'rs2112347', 'rs2121279', 'rs2176040', 'rs2176598', 'rs2207139', 'rs2228213', 'rs2245368', 'rs2270204', 'rs2275426', 'rs2287019', 'rs2304130', 'rs2307022', 'rs2365389', 'rs2371767', 'rs2481665', 'rs2579103', 'rs2612012', 'rs2650492', 'rs2710323', 'rs2820292', 'rs2836754', 'rs2845885', 'rs29941', 'rs3101336', 'rs3134353', 'rs33439', 'rs3736485', 'rs3779273', 'rs3783890', 'rs3810291', 'rs3817334', 'rs3849570', 'rs3888190', 'rs4061073', 'rs4256980', 'rs427943', 'rs4667682', 'rs4740619', 'rs4787491', 'rs4820408', 'rs4833079', 'rs492400', 'rs4985155', 'rs4986044', 'rs4988235', 'rs543874', 'rs6091540', 'rs6465468', 'rs6477694', 'rs6504108', 'rs6567160', 'rs6569648', 'rs657452', 'rs6804842', 'rs6864049', 'rs6870983', 'rs6990042', 'rs709400', 'rs7111341', 'rs7138803', 'rs7141420', 'rs7143963', 'rs715', 'rs7164727', 'rs7223966', 'rs7239883', 'rs7243357', 'rs751008', 'rs7570971', 'rs758747', 'rs7599312', 'rs7613875', 'rs7640424', 'rs7713317', 'rs7715256', 'rs7844647', 'rs7899106', 'rs7903146', 'rs7970953', 'rs889398', 'rs9275595', 'rs929641', 'rs9364687', 'rs9374842', 'rs9400239', 'rs943466', 'rs9540493', 'rs9563576', 'rs9595908', 'rs9633835', 'rs9634489', 'rs9641123', 'rs972540', 'rs977747', 'rs9867325', 'rs9880211', 'rs9914578', 'rs9925964', 'rs998584'))
exposure_dat <- format_data(gwas_catalog_subset)
outcome_dat <- extract_outcome_data(exposure_dat$SNP, c('finn-b-CD2_MULTIPLE_MYELOMA_PLASMA_CELL','ieu-b-4957','finn-b-CD2_MULTIPLE_MYELOMA_PLASMA_CELL_EXALLC'), proxies = 1, rsq = 0.8, align_alleles = 1, palindromes = 1, maf_threshold = 0.3)
dat <- harmonise_data(exposure_dat, outcome_dat, action = 2)
mr_results <- mr(dat)

